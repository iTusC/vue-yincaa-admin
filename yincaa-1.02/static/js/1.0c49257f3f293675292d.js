webpackJsonp([1],{U175:function(a,t){},Wlhp:function(a,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("lC5x"),e=i.n(s),l=i("J0Oq"),n=i.n(l),r=i("SLVL"),d=i("UEcT"),o=i("1h8J"),c={data:function(){return{lodi:!0,isshow:!0,lng:null,lat:null,infoD:"",infoNP:"",infoTW:"",infoWT:"",infoL:"",zoom:14,tableDataAlarms:[],infotext:"",imgSrc:"",messageisshow:!1,imagesisshow:!1,messagesrc:"",messagesrctitle:"",imagesList:[],atpyeName:"-",pid:"-",startDate:"-",endDate:"-",longitude:"-",latitude:"-",deriverName:"-",vehicleCode:"黄色",teamName:"-",locationDesc:"广东省广州市荔湾区员村街道三元里抗英斗争纪念公园",vehicleId:"YY-CM-7694",color:"红色",sex:"-",birthday:"-",vehicleType:"-",terminalNo:"018038863254",speed:"70KM/h",altitude:"209m",subordinate:"粤运综合物流有限公司",issuingAuthority:"广东省公安厅交通管理局",licensePlateType:"黄色",VehicleModel:"普通",carIndustry:"道路货物运输",creationTime:"2018-4-5",licenseNumber:"01803883977522",validPeriod:"2019-3-18",listId:"-",dataMonday:"-",dataSunday:"-",tableDatas:[],currentN:0,listData:[],companyId:"",videos:"",videoShow:!1,upAlarmNo:"",alarmNo:"",downAlarmNo:"",alarm:"",col:!1,centerDialogVisible:!1,dialogText:"",atypeParent:""}},methods:{coninfo:function(a,t){this.isshow=!0,this.lng=this.listData.detailMap.longitude,this.lat=this.listData.detailMap.latitude,this.infotext="this.markers[i].text"},handler:function(a){a.BMap,a.map},draw:function(a){var t=a.el,i=a.BMap,s=a.map.pointToOverlayPixel(new i.Point(this.lng,this.lat));t.style.left=s.x-60+"px",t.style.top=s.y-20+"px"},isinfo:function(a){},close:function(){this.isshow=!1},zommImages:function(a){this.messageisshow=!0,this.imagesisshow=!0,this.messagesrc=a.srcElement.currentSrc,this.messagesrctitle=a.srcElement.alt},closeMessageBox:function(){this.imagesisshow=!1,this.messageisshow=!1},onSearch:function(){var a=this.$loading({lock:!0,text:"加载中",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)",target:document.querySelector(".detail-main")});setTimeout(function(){a.close()},2e3)},onNext:function(){""!==this.downAlarmNo&&this.currentN<10?(this.lodi=!0,this.getDetailPageData({alarmNo:this.downAlarmNo,companyId:this.companyId,startDate:this.dataMonday,endDate:this.dataSunday,atypeParent:this.atypeParent,currentNo:this.currentN++,upAlarmNo:this.alarmNo})):(this.dialogText="最后一页了！",this.centerDialogVisible=!0)},onPrevious:function(){""!==this.upAlarmNo&&this.currentN>0?(this.lodi=!0,this.getDetailPageData({alarmNo:this.upAlarmNo,companyId:this.companyId,vehicleId:this.tableDatas.vehicleId,deriverId:this.tableDatas.deriveId,startDate:this.dataMonday,endDate:this.dataSunday,currentNo:this.currentN--,downAlarmNo:this.downAlarmNo})):(this.dialogText="第一页了！",this.centerDialogVisible=!0)},back:function(){this.$router.go(-1)},getDetailPageData:function(a){var t=this;return n()(e.a.mark(function i(){var s,l;return e.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(o.d)(a);case 2:s=i.sent,l=[],200===s.status&&(t.alarm=s.data,t.atpyeName=s.data.detailMap.atpyeName,t.pid=s.data.detailMap.pid,t.longitude=s.data.detailMap.longitude,t.latitude=s.data.detailMap.latitude,t.deriverName=s.data.detailMap.deriverName,t.vehicleCode=s.data.detailMap.vehicleCode,t.teamName=s.data.detailMap.teamName,t.locationDesc=s.data.detailMap.locationDesc,t.vehicleId=s.data.detailMap.vehicleId,t.color=s.data.detailMap.color,t.sex=s.data.detailMap.sex,t.birthday=s.data.detailMap.birthday,t.vehicleType=s.data.detailMap.vehicleType,t.lng=s.data.detailMap.longitude,t.lat=s.data.detailMap.latitude,t.infoD=s.data.detailMap.deriverName,t.infoNP=s.data.detailMap.vehicleCode,t.infoTW=s.data.detailMap.atpyeName,t.infoWT=s.data.detailMap.alarmTime,t.infoL=s.data.detailMap.locationDesc,s.data.multimMap.forEach(function(a){0==a.fileType?l.push("http://47.106.196.228:8888/"+a.filePath):2==a.fileType&&(t.videos="http://47.106.196.228:8888/"+a.filePath)}),t.imagesList=l,t.videoShow=!0,t.startDate=s.data.detailMap.alarmTime,t.endDate=s.data.detailMap.alarmTime,t.deriverId=s.data.params.deriverId,s.data.params.upAlarmNo?(t.upAlarmNo=s.data.params.upAlarmNo,t.alarmNo=s.data.params.alarmNo,t.downAlarmNo=s.data.params.downAlarmNo):s.data.params.downAlarmNo?(t.alarmNo=s.data.params.alarmNo,t.downAlarmNo=s.data.params.downAlarmNo):(t.upAlarmNo=s.data.params.upAlarmNo,t.alarmNo=s.data.params.alarmNo)),t.lodi=!1,s=null;case 7:case"end":return i.stop()}},i,t)}))()}},mounted:function(){},created:function(){this.listId=this.$route.params.id,this.currentN=this.listId.index,this.dataMonday=this.$route.params.dataMonday,this.dataSunday=this.$route.params.dataSunday,this.tableDatas=this.$route.params.tableDatas,this.companyId=this.$route.params.companyIds,this.atypeParent=this.$route.params.atypeParent,this.getDetailPageData({alarmNo:this.listId.id,companyId:this.companyId,vehicleId:this.tableDatas.vehicleId,deriverId:this.tableDatas.deriveId,startDate:this.dataMonday,endDate:this.dataSunday,atypeParent:this.atypeParent,currentNo:this.listId.index})},watch:{$route:function(){this.listId=this.$route.params.id,this.dataMonday=this.$route.params.dataMonday,this.dataSunday=this.$route.params.dataSunday,this.tableDatas=this.$route.params.tableDatas,this.companyId=this.$route.params.companyIds,this.atypeId=this.$route.params.atypeId}},components:{BmlMarkerClusterer:r.BmlMarkerClusterer,MapBox:d.a}},v={render:function(){var a=this,t=a.$createElement,i=a._self._c||t;return i("el-scrollbar",{staticClass:"yc-scrollbar",staticStyle:{height:"100%"}},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:a.lodi,expression:"lodi"}],staticClass:"detail-main"},[i("div",{staticClass:"detail-m"},[i("baidu-map",{staticClass:"map",attrs:{center:"广州","scroll-wheel-zoom":!0,"map-click":!1,center:{lng:a.lng,lat:a.lat},zoom:a.zoom}},[i("bm-geolocation",{attrs:{anchor:"BMAP_ANCHOR_BOTTOM_RIGHT",showAddressBar:!0,autoLocation:!0}}),a._v(" "),i("bm-navigation",{attrs:{anchor:"BMAP_ANCHOR_TOP_RIGHT"}}),a._v(" "),i("bm-map-type",{attrs:{"map-types":["BMAP_NORMAL_MAP","BMAP_HYBRID_MAP"],anchor:"BMAP_ANCHOR_TOP_LEFT"}}),a._v(" "),i("bm-traffic",{attrs:{predictDate:{weekday:7,hour:12}}}),a._v(" "),i("bml-marker-clusterer",{attrs:{averageCenter:!0}},[i("bm-marker",{attrs:{position:{lng:a.lng,lat:a.lat},zoom:a.zoom}})],1),a._v(" "),i("map-box",{attrs:{position:{lng:a.lng,lat:a.lat}}},[i("p",{staticClass:"info"},[a._v("驾驶员："+a._s(a.infoD))]),a._v(" "),i("p",{staticClass:"info"},[a._v("车牌号："+a._s(a.infoNP))]),a._v(" "),i("p",{staticClass:"info"},[a._v("报警时间："+a._s(a.infoWT))]),a._v(" "),i("p",{staticClass:"info"},[a._v("报警类型："+a._s(a.infoTW))]),a._v(" "),i("p",{staticClass:"info"},[a._v("报警地点："+a._s(a.infoL))])])],1),a._v(" "),i("aside",{staticClass:"page-turning"},[i("div",{staticClass:"pages-next",on:{click:a.back}},[i("i",{staticClass:"el-icon-back"}),i("span",[a._v(" 返回列表")])]),a._v(" "),i("div",{staticClass:"pages-next",on:{click:a.onNext}},[i("span",[a._v("下一条预警")]),i("i",{staticClass:"el-icon-arrow-right"})]),a._v(" "),i("div",{staticClass:"pages-prea",on:{click:a.onPrevious}},[i("i",{staticClass:"el-icon-arrow-left",style:a.col?a.color="#fff":a.color="#333"}),i("span",[a._v("上一条预警")])])]),a._v(" "),i("div",{staticClass:"detail-main-info"},[i("section",{staticClass:"detail-page-main border-bottom"},[i("article",{staticClass:"detail-main-warning"},[i("h3",[a._v("预警信息(编号38992994910400)")]),a._v(" "),i("ul",{staticClass:"detail-warning-del"},[i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("预警类别")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(64===a.pid?"车辆预警":"驾驶员预警"))])]),a._v(" "),i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("预警子类型")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(a.atpyeName))])]),a._v(" "),i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("预警时间")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(a.startDate))])]),a._v(" "),i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("平台接收时间")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(a.endDate))])]),a._v(" "),i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("终端机手机号")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(a.terminalNo))])]),a._v(" "),i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("经纬度")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(a.longitude+"-"+a.latitude))])]),a._v(" "),i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("海拔高度")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(a.altitude))])]),a._v(" "),i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("当前车速")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(a.speed))])]),a._v(" "),i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("驾驶员")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(a.deriverName))])]),a._v(" "),i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("车牌号")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(a.vehicleCode))])]),a._v(" "),i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("所属车队")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(a.teamName))])]),a._v(" "),i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("从属公司")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(a.subordinate))])]),a._v(" "),i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("预警地点")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(a.locationDesc))])])]),a._v(" "),i("article",{staticClass:"detail-main-photo"},[i("h4",{staticClass:"detail-warning-title"},[a._v("预警照片")]),a._v(" "),i("ul",a._l(a.imagesList,function(t,s){return i("li",{key:s},[i("img",{staticClass:"detail-main-images",attrs:{src:t},on:{click:function(t){if(t.target!==t.currentTarget)return null;a.zommImages(t)}}})])}))]),a._v(" "),i("article",{staticClass:"detail-main-video"},[i("h4",{staticClass:"detail-warning-title"},[a._v("预警视频")]),a._v(" "),a.videoShow?i("video",{staticClass:"detail-warning-video",attrs:{controls:"",name:"media"},on:{click:function(a){if(a.target!==a.currentTarget)return null}}},[i("source",{attrs:{src:a.videos,type:"video/mp4"}})]):a._e()])])]),a._v(" "),i("section",{staticClass:"detail-page-main border-bottom"},[i("article",{staticClass:"detail-main-warning"},[i("h3",[a._v("车辆信息")]),a._v(" "),i("ul",[i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("车辆ID")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(a.vehicleId))])]),a._v(" "),i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("车牌号")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(a.vehicleCode))])]),a._v(" "),i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("车牌种类")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(a.licensePlateType))])]),a._v(" "),i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("发证机关")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(a.issuingAuthority))])]),a._v(" "),i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("车辆颜色")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(a.color))])]),a._v(" "),i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("车辆类型")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(a.VehicleModel))])]),a._v(" "),i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("车属行业")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(a.carIndustry))])]),a._v(" "),i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("车辆创建时间")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(a.creationTime))])])])])]),a._v(" "),i("section",{staticClass:"detail-page-main"},[i("article",{staticClass:"detail-main-warning"},[i("h3",[a._v("驾驶员信息")]),a._v(" "),i("ul",[i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("驾驶员ID")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v("YINC-DR-"+a._s(a.deriverId))])]),a._v(" "),i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("驾驶员姓名")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(a.deriverName))])]),a._v(" "),i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("性别")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s("m"==a.sex?"男":"女"))])]),a._v(" "),i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("生日")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(a.birthday))])]),a._v(" "),i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("驾驶证编号")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(a.licenseNumber))])]),a._v(" "),i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("驾驶证类型")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(a.vehicleType)+"照")])]),a._v(" "),i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("发证机关")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(a.issuingAuthority))])]),a._v(" "),i("li",[i("span",{staticClass:"detail-warning-title"},[a._v("有效期止")]),a._v(" "),i("p",{staticClass:"detail-warnig-text"},[a._v(a._s(a.validPeriod))])])])])])])],1),a._v(" "),a.messageisshow?i("div",{staticClass:"message-box"},[i("div",{staticClass:"message-box-bg",on:{click:function(t){return t.target!==t.currentTarget?null:a.closeMessageBox(t)}}}),a._v(" "),i("div",{staticClass:"message-main"},[i("span",{staticClass:"message-close el-icon-close",on:{click:function(t){return t.target!==t.currentTarget?null:a.closeMessageBox(t)}}}),a._v(" "),i("div",{staticClass:"block"},[i("el-carousel",{attrs:{trigger:"click",height:"576px",autoplay:!1}},a._l(a.imagesList,function(t){return i("el-carousel-item",{key:t},[a.imagesisshow?i("img",{staticClass:"mes-images",attrs:{src:t,alt:a.messagesrctitle}}):a._e()])}))],1)])]):a._e(),a._v(" "),i("el-dialog",{staticClass:"dialog",attrs:{title:"提示",visible:a.centerDialogVisible,width:"20%",center:""},on:{"update:visible":function(t){a.centerDialogVisible=t}}},[i("span",{staticStyle:{display:"inline-block",width:"100%","text-align":"center","font-size":"14px",color:"#666"}},[a._v(a._s(a.dialogText))])])],1)])},staticRenderFns:[]};var p=i("Z0/y")(c,v,!1,function(a){i("U175")},"data-v-59a41294",null);t.default=p.exports}});